import{k as x,r as l,ah as s,o as V,c as R,a as e,V as r,U as p,P as m,a3 as N,a9 as D,T as q,bm as B,bk as T}from"./@vue-600f7d09.js";import{u as A,b as E}from"./vue-router-383033d3.js";import{_ as K}from"./index-5c738a66.js";import"./element-plus-fba9d43f.js";import"./lodash-es-2e98bc53.js";import"./@vueuse-c43c5ddb.js";import"./@element-plus-4fa4826e.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-7b3af433.js";import"./aplayer-d80f7f58.js";import"./async-validator-10c6301d.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-fc8420ed.js";import"./vue-cookies-b2ef00ed.js";import"./@highlightjs-9bfede93.js";import"./highlight.js-07971b4d.js";import"./axios-9cbf0d09.js";import"./docx-preview-30c6d22b.js";import"./jszip-d9c085e9.js";import"./xlsx-04f2268f.js";import"./vue-pdf-embed-4c1bbf4d.js";import"./vue-373d10b3.js";import"./dplayer-ff9c2365.js";import"./vue-clipboard3-abb1cd37.js";import"./clipboard-2fdbe17c.js";const f=n=>(B("data-v-94cbaaea"),n=n(),T(),n),U={class:"share"},L={class:"body-content"},M=f(()=>e("div",{class:"logo"},[e("span",{class:"iconfont icon-pan"}),e("span",{class:"name"},"Easy云盘")],-1)),P={class:"code-panel"},$={class:"file-info"},j={class:"avatar"},z={class:"share-info"},F={class:"user-info"},G={class:"nick-name"},H={class:"share-time"},J={class:"file-name"},O={class:"code-body"},Q=f(()=>e("div",{class:"tips"},"请输入提取码：",-1)),W={class:"input-area"},X={__name:"ShareCheck",setup(n){const{proxy:d}=x(),v=A(),S=E(),_={getShareInfo:"/showShare/getShareInfo",checkShareCode:"/showShare/checkShareCode"},i=S.params.shareId,t=l({});(async()=>{let o=await d.Request({url:_.getShareInfo,params:{shareId:i}});o&&(t.value=o.data)})();const c=l({}),u=l(),I={code:[{required:!0,message:"请输入提取码"},{min:5,message:"提取码为5位"},{max:5,message:"提取码为5位"}]},h=async()=>{u.value.validate(async o=>{!o||!await d.Request({url:_.checkShareCode,params:{shareId:i,code:c.value.code}})||v.push(`/share/${i}`)})};return(o,a)=>{const k=s("Avatar"),y=s("el-input"),g=s("el-button"),b=s("el-form-item"),C=s("el-form");return V(),R("div",U,[e("div",L,[M,e("div",P,[e("div",$,[e("div",j,[r(k,{userId:t.value.userId,avatar:t.value.avatar,width:50},null,8,["userId","avatar"])]),e("div",z,[e("div",F,[e("span",G,p(t.value.nickName),1),e("span",H,"分享于 "+p(t.value.shareTime),1)]),e("div",J,"分享文件："+p(t.value.fileName),1)])]),e("div",O,[Q,e("div",W,[r(C,{model:c.value,rules:I,ref_key:"formDataRef",ref:u,maxLength:5,onSubmit:a[1]||(a[1]=N(()=>{},["prevent"]))},{default:m(()=>[r(b,{prop:"code"},{default:m(()=>[r(y,{class:"input",modelValue:c.value.code,"onUpdate:modelValue":a[0]||(a[0]=w=>c.value.code=w),onKeyup:D(h,["enter"])},null,8,["modelValue"]),r(g,{type:"primary",onClick:h},{default:m(()=>[q("提取文件")]),_:1})]),_:1})]),_:1},8,["model"])])])])])])}}},xe=K(X,[["__scopeId","data-v-94cbaaea"]]);export{xe as default};
